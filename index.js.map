{"version":3,"file":"index.js","sources":["../src/js/about.js","../src/js/pushMessage.js","../src/js/api.js","../src/js/render-functions.js","../src/js/artists.js","../src/js/feedbacks.js","../src/js/footer.js","../src/js/header.js","../src/js/hero.js","../src/js/modal.js","../src/js/loader.js","../src/js/feedback-modal.js"],"sourcesContent":["console.log('About section logic loaded');\n\n\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst settings = {\n  position: 'topRight',\n  timeout: 4000,\n  theme: 'dark',\n  backgroundColor: '#060307',\n  progressBarColor: '#4E75FF',\n};\n\n// Тільки візуал\nexport const showPush = (message, type = 'error') => {\n  iziToast[type]({\n    ...settings,\n    title: type === 'error' ? 'Error' : 'Success',\n    message: message,\n    backgroundColor: type === 'error' ? '#1a0505' : '#060307',\n  });\n};","import axios from 'axios';\nimport { showPush } from './pushMessage';\n\naxios.defaults.baseURL = 'https://sound-wave.b.goit.study/api';\n\n/**\n * Внутрішній \"двигун\" (Private engine)\n * Обробляє запити, лоадери та помилки в одному місці.\n */\nasync function apiRequest(method, url, config = {}) {\n  try {\n    const response = await axios({ method, url, ...config });\n    return response.data; // Повертаємо чисті дані\n  } catch (error) {\n    const message = error.response?.data?.message || error.message;\n    showPush(message);\n    return null; \n  }\n}\n\n/**\n * Експортуємо функції ТАК САМО, як вони називалися раніше.\n * Логіка виклику в компонентах не зміниться.\n */\n\nexport const getGenres = () => \n  apiRequest('get', '/genres');\n\nexport const getArtists = ({ page = 1, limit }) => \n  apiRequest('get', '/artists', { params: { page, limit } });\n\nexport const getArtistById = (id) => \n  apiRequest('get', `/artists/${id}`);\n\nexport const getArtistAlbums = (id) => \n  apiRequest('get', `/artists/${id}/albums`);\n\nexport const getFeedbacks = (limit) => \n  apiRequest('get', '/feedbacks', { params: { limit } });\n\nexport const postFeedback = (data) => \n  apiRequest('post', '/feedbacks', { data });","// \"Колеги, файл render-functions.js — це наш конструктор HTML.\n// Давайте домовимось: вся генерація HTML-рядків живе тільки там. У файлах логіки (api, main) ми просто викликаємо ці функції.\n// Так ми не заплутаємось у коді і зможемо легко правити верстку, не ламаючи логіку JS.\"\n\nconst artistsList = document.querySelector('.artists-list');\n\n//Функція рендеру карток артистів, потрібно передати масив списку артистів.\nexport function renderArtistCards(artists) {\n  const markup = artists\n    .map(({ _id, strArtist, strArtistThumb, genres, strBiographyEN }) => {\n      const genresMarkup = genres\n        .map(genre => `<span class=\"artist-genre\">${genre}</span>`)\n        .join('');\n\n      return `\n          <li class=\"artist-card\">\n            <img\n              src=\"${strArtistThumb}\"\n              alt=\"${strArtist}\"\n              class=\"artist-img\"\n            />\n            <div class=\"artist-genres\">\n              ${genresMarkup}\n            </div>\n            <h4 class=\"artist-name\">${strArtist}</h4>\n            <p class=\"artist-description\">\n              ${strBiographyEN}\n            </p>\n            <button\n              type=\"button\"\n              class=\"artist-link\"\n              data-id=\"${_id}\"\n              >\n              Learn more\n            </button>\n          </li>\n        `;\n    })\n    .join('');\n\n  artistsList.insertAdjacentHTML('beforeend', markup);\n}\n","import { getArtists } from './api';\nimport { showPush } from './pushMessage';\nimport { renderArtistCards } from './render-functions';\n\nconst loadMore = document.querySelector('.artists-button');\n\nlet page = 1;\nconst limit = 8;\n\nlet artists = [];\nlet totalArtists = 0;\n\nfunction showLoadMoreBtn() {\n  loadMore.classList.remove('is-hidden');\n}\n\nfunction hideLoadMoreBtn() {\n  loadMore.classList.add('is-hidden');\n}\n\nasync function loadArtists() {\n  const data = await getArtists({ page, limit });\n  if (!data) return;\n  totalArtists = data.totalArtists;\n  renderArtistCards(data.artists);\n  artists = [...artists, ...data.artists];\n  if (artists.length < totalArtists) {\n    showLoadMoreBtn();\n  } else {\n    hideLoadMoreBtn();\n  }\n}\nloadArtists();\n\nloadMore.addEventListener('click', loadMoreBtnHandler);\n\nasync function loadMoreBtnHandler(e) {\n  e.preventDefault();\n  page += 1;\n  loadMore.disabled = true;\n  const data = await getArtists({ page, limit });\n  loadMore.disabled = false;\n  if (!data) return;\n  renderArtistCards(data.artists);\n  artists = [...artists, ...data.artists];\n  if (artists.length >= totalArtists) {\n    hideLoadMoreBtn();\n    showPush('You have reached the limit', 'error');\n  }\n}\n","console.log('feedbacks');\n","console.log('footer');\n","console.log('header');\n","console.log('hero');\n","console.log('modal');\n\n\n\n","console.log('loader');\n","console.log('feedback modal');\n"],"names":["settings","showPush","message","type","iziToast","axios","apiRequest","method","url","config","error","_b","_a","getArtists","page","limit","artistsList","renderArtistCards","artists","markup","_id","strArtist","strArtistThumb","genres","strBiographyEN","genresMarkup","genre","loadMore","totalArtists","showLoadMoreBtn","hideLoadMoreBtn","loadArtists","data","loadMoreBtnHandler","e"],"mappings":"6vBAAA,QAAQ,IAAI,4BAA4B,ECGxC,MAAMA,EAAW,CACf,SAAU,WACV,QAAS,IACT,MAAO,OACP,gBAAiB,UACjB,iBAAkB,SACpB,EAGaC,EAAW,CAACC,EAASC,EAAO,UAAY,CACnDC,EAASD,CAAI,EAAE,CACb,GAAGH,EACH,MAAOG,IAAS,QAAU,QAAU,UACpC,QAASD,EACT,gBAAiBC,IAAS,QAAU,UAAY,SACpD,CAAG,CACH,EChBAE,EAAM,SAAS,QAAU,sCAMzB,eAAeC,EAAWC,EAAQC,EAAKC,EAAS,CAAA,EAAI,SAClD,GAAI,CAEF,OADiB,MAAMJ,EAAM,CAAE,OAAAE,EAAQ,IAAAC,EAAK,GAAGC,CAAM,CAAE,GACvC,IACjB,OAAQC,EAAO,CACd,MAAMR,IAAUS,GAAAC,EAAAF,EAAM,WAAN,YAAAE,EAAgB,OAAhB,YAAAD,EAAsB,UAAWD,EAAM,QACvD,OAAAT,EAASC,CAAO,EACT,IACR,CACH,CAUO,MAAMW,EAAa,CAAC,CAAE,KAAAC,EAAO,EAAG,MAAAC,CAAO,IAC5CT,EAAW,MAAO,WAAY,CAAE,OAAQ,CAAE,KAAAQ,EAAM,MAAAC,CAAK,EAAI,ECzBrDC,EAAc,SAAS,cAAc,eAAe,EAGnD,SAASC,EAAkBC,EAAS,CACzC,MAAMC,EAASD,EACZ,IAAI,CAAC,CAAE,IAAAE,EAAK,UAAAC,EAAW,eAAAC,EAAgB,OAAAC,EAAQ,eAAAC,KAAqB,CACnE,MAAMC,EAAeF,EAClB,IAAIG,GAAS,8BAA8BA,CAAK,SAAS,EACzD,KAAK,EAAE,EAEV,MAAO;AAAA;AAAA;AAAA,qBAGQJ,CAAc;AAAA,qBACdD,CAAS;AAAA;AAAA;AAAA;AAAA,gBAIdI,CAAY;AAAA;AAAA,sCAEUJ,CAAS;AAAA;AAAA,gBAE/BG,CAAc;AAAA;AAAA;AAAA;AAAA;AAAA,yBAKLJ,CAAG;AAAA;AAAA;AAAA;AAAA;AAAA,SAM5B,CAAK,EACA,KAAK,EAAE,EAEVJ,EAAY,mBAAmB,YAAaG,CAAM,CACpD,CCrCA,MAAMQ,EAAW,SAAS,cAAc,iBAAiB,EAEzD,IAAIb,EAAO,EACX,MAAMC,EAAQ,EAEd,IAAIG,EAAU,CAAA,EACVU,EAAe,EAEnB,SAASC,GAAkB,CACzBF,EAAS,UAAU,OAAO,WAAW,CACvC,CAEA,SAASG,GAAkB,CACzBH,EAAS,UAAU,IAAI,WAAW,CACpC,CAEA,eAAeI,GAAc,CAC3B,MAAMC,EAAO,MAAMnB,EAAW,CAAE,KAAAC,EAAM,MAAAC,CAAO,CAAA,EACxCiB,IACLJ,EAAeI,EAAK,aACpBf,EAAkBe,EAAK,OAAO,EAC9Bd,EAAU,CAAC,GAAGA,EAAS,GAAGc,EAAK,OAAO,EAClCd,EAAQ,OAASU,EACnBC,IAEAC,IAEJ,CACAC,IAEAJ,EAAS,iBAAiB,QAASM,CAAkB,EAErD,eAAeA,EAAmBC,EAAG,CACnCA,EAAE,eAAc,EAChBpB,GAAQ,EACRa,EAAS,SAAW,GACpB,MAAMK,EAAO,MAAMnB,EAAW,CAAE,KAAAC,EAAM,MAAAC,CAAO,CAAA,EAC7CY,EAAS,SAAW,GACfK,IACLf,EAAkBe,EAAK,OAAO,EAC9Bd,EAAU,CAAC,GAAGA,EAAS,GAAGc,EAAK,OAAO,EAClCd,EAAQ,QAAUU,IACpBE,IACA7B,EAAS,6BAA8B,OAAO,GAElD,CCjDA,QAAQ,IAAI,WAAW,ECAvB,QAAQ,IAAI,QAAQ,ECApB,QAAQ,IAAI,QAAQ,ECApB,QAAQ,IAAI,MAAM,ECAlB,QAAQ,IAAI,OAAO,ECAnB,QAAQ,IAAI,QAAQ,ECApB,QAAQ,IAAI,gBAAgB"}