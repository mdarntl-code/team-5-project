{"version":3,"file":"index.js","sources":["../src/js/pushMessage.js","../src/js/api.js","../src/js/render-functions.js","../src/js/artists.js","../src/js/feedbacks.js","../src/js/header.js","../src/js/hero.js","../src/js/modal.js","../src/js/loader.js","../src/js/feedback-modal.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst settings = {\n  position: 'topRight',\n  timeout: 4000,\n  theme: 'dark',\n  backgroundColor: '#060307',\n  progressBarColor: '#4E75FF',\n};\n\n// Тільки візуал\nexport const showPush = (message, type = 'error') => {\n  iziToast[type]({\n    ...settings,\n    title: type === 'error' ? 'Error' : 'Success',\n    message: message,\n    backgroundColor: type === 'error' ? '#1a0505' : '#060307',\n  });\n};","import axios from 'axios';\nimport { showPush } from './pushMessage';\n\naxios.defaults.baseURL = 'https://sound-wave.b.goit.study/api';\n\n/**\n * Внутрішній \"двигун\" (Private engine)\n * Обробляє запити, лоадери та помилки в одному місці.\n */\nasync function apiRequest(method, url, config = {}) {\n  try {\n    const response = await axios({ method, url, ...config });\n    return response.data; // Повертаємо чисті дані\n  } catch (error) {\n    const message = error.response?.data?.message || error.message;\n    showPush(message);\n    return null; \n  }\n}\n\n/**\n * Експортуємо функції ТАК САМО, як вони називалися раніше.\n * Логіка виклику в компонентах не зміниться.\n */\n\nexport const getGenres = () => \n  apiRequest('get', '/genres');\n\nexport const getArtists = ({ page = 1, limit }) => \n  apiRequest('get', '/artists', { params: { page, limit } });\n\nexport const getArtistById = (id) => \n  apiRequest('get', `/artists/${id}`);\n\nexport const getArtistAlbums = (id) => \n  apiRequest('get', `/artists/${id}/albums`);\n\nexport const getFeedbacks = (limit) => \n  apiRequest('get', '/feedbacks', { params: { limit } });\n\nexport const postFeedback = (data) => \n  apiRequest('post', '/feedbacks', { data });","// \"Колеги, файл render-functions.js — це наш конструктор HTML.\n// Давайте домовимось: вся генерація HTML-рядків живе тільки там. У файлах логіки (api, main) ми просто викликаємо ці функції.\n// Так ми не заплутаємось у коді і зможемо легко правити верстку, не ламаючи логіку JS.\"\n\n// Resolve sprite URL correctly for both dev and production\nconst spriteUrl = new URL('../img/sprite.svg', import.meta.url).href;\n\nconst artistsList = document.querySelector('.artists-list');\n\n//Функція рендеру карток артистів, потрібно передати масив списку артистів.\nexport function renderArtistCards(artists) {\n  const markup = artists\n    .map(({ _id, strArtist, strArtistThumb, genres, strBiographyEN }) => {\n      const genresMarkup = genres\n        .map(genre => `<span class=\"artist-genre\">${genre}</span>`)\n        .join('');\n\n      return `\n          <li class=\"artist-card\">\n            <img\n              src=\"${strArtistThumb}\"\n              alt=\"${strArtist}\"\n              class=\"artist-img\"\n            />\n            <div class=\"artist-genres\">\n              ${genresMarkup}\n            </div>\n            <h4 class=\"artist-name\">${strArtist}</h4>\n            <p class=\"artist-description\">\n              ${strBiographyEN}\n            </p>\n            <button\n              type=\"button\"\n              class=\"artist-link\"\n              data-id=\"${_id}\"\n              >\n              Learn more\n            </button>\n          </li>\n        `;\n    })\n    .join('');\n\n  artistsList.insertAdjacentHTML('beforeend', markup);\n}\n\n// Функція для створення списку альбомів та треків\nexport function createAlbumsMarkup(albums) {\n  if (albums.length === 0) return '<p class=\"no-data\">No tracks found</p>';\n\n  return albums.map(album => `\n    <div class=\"artistModal-album-item\">\n      <h4 class=\"artistModal-album-name\">${album.strAlbum}</h4>\n      <div class=\"artistModal-track-header\">\n        <span>Track</span>\n        <span>Time</span>\n        <span>Link</span>\n      </div>\n      <ul class=\"artistModal-track-list\">\n        ${album.tracks.map(track => {\n    const totalSec = Math.floor(track.intDuration / 1000);\n    const m = Math.floor(totalSec / 60);\n    const s = String(totalSec % 60).padStart(2, '0');\n    const cleanLink = track.movie ? track.movie.split(' ')[0] : null;\n\n    return `\n            <li class=\"artistModal-track-item\">\n              <span class=\"artistModal-track-name\">${track.strTrack}</span>\n              <span class=\"artistModal-track-duration\">${m}:${s}</span>\n              <span class=\"artistModal-track-link\">\n                ${cleanLink && cleanLink !== \"null\" ? `\n                  <a href=\"${cleanLink}\" target=\"_blank\" class=\"artistModal-yt-link\" rel=\"noopener noreferrer\">\n                    <svg class=\"artistModal-yt-icon\" width=\"24\" height=\"24\">\n                      <use href=\"${spriteUrl}#icon-Youtube\"></use> \n                    </svg>\n                  </a>` : ''}\n              </span>\n            </li>`;\n  }).join('')}\n      </ul>\n    </div>`).join('');\n}\n\n// Функція рендеру модалки\nexport function createArtistModalMarkup({ artist, yearsActive, specificInfoMarkup, albumsMarkup }) {\n  const { strArtist, strArtistThumb, strCountry, strBiographyEN, genres } = artist;\n\n  return `\n    <div class=\"artistModal-content-wrapper\">\n      <h2 class=\"artistModal-title\">${strArtist}</h2>\n      <div class=\"artistModal-info-wrapper\">\n        <div class=\"artistModal-img-wrapper\">\n          <img src=\"${strArtistThumb}\" class=\"artistModal-img\" alt=\"${strArtist}\">\n        </div>\n        <div class=\"artistModal-info-grid\">\n          <div class=\"artistModal-info-group\">\n            <div class=\"artistModal-info-item\">\n              <span class=\"artistModal-info-label\">Years active</span>\n              <p class=\"artistModal-info-value\">${yearsActive}</p>\n            </div>     \n            ${specificInfoMarkup}      \n            <div class=\"artistModal-info-item\">\n              <span class=\"artistModal-info-label\">Country</span>\n              <p class=\"artistModal-info-value\">${strCountry || 'Unknown'}</p>\n            </div>\n          </div>\n          <div class=\"artistModal-desc\">\n            <span class=\"artistModal-info-label\">Biography</span>\n            <p>${strBiographyEN || 'Biography not available'}</p>\n          </div>\n          <div class=\"artistModal-genres\">\n            ${(genres || []).map(g => `<span class=\"artist-genre\">${g}</span>`).join('')}\n          </div>\n        </div> \n      </div>\n      <h2 class=\"artistModal-albums-title\">Albums</h2>\n      <div class=\"artistModal-albums-section\">${albumsMarkup}</div>\n    </div>`;\n}","import { getArtists } from './api';\nimport { showPush } from './pushMessage';\nimport { renderArtistCards } from './render-functions';\n\nconst loadMore = document.querySelector('.artists-button');\n\nlet page = 1;\nconst limit = 8;\n\nlet artists = [];\nlet totalArtists = 0;\n\nfunction showLoadMoreBtn() {\n  loadMore.classList.remove('is-hidden');\n}\n\nfunction hideLoadMoreBtn() {\n  loadMore.classList.add('is-hidden');\n}\n\nasync function loadArtists() {\n  const data = await getArtists({ page, limit });\n  if (!data) return;\n  totalArtists = data.totalArtists;\n  renderArtistCards(data.artists);\n  artists = [...artists, ...data.artists];\n  if (artists.length < totalArtists) {\n    showLoadMoreBtn();\n  } else {\n    hideLoadMoreBtn();\n  }\n}\nloadArtists();\n\nloadMore.addEventListener('click', loadMoreBtnHandler);\n\nasync function loadMoreBtnHandler(e) {\n  e.preventDefault();\n  page += 1;\n  loadMore.disabled = true;\n  loadMore.classList.add('loading'); // Show loader\n  const data = await getArtists({ page, limit });\n  loadMore.classList.remove('loading'); // Hide loader\n  loadMore.disabled = false;\n  if (!data) return;\n  renderArtistCards(data.artists);\n  artists = [...artists, ...data.artists];\n  if (artists.length >= totalArtists) {\n    hideLoadMoreBtn();\n    showPush('You have reached the limit', 'error');\n  }\n}\n","console.log('feedbacks');\n","(function () {\n  const btn = document.querySelector('.header-btn');\n  const menu = document.querySelector('.header-menu');\n\n  if (!btn || !menu) return;\n\n  const useEl = btn.querySelector('use');\n  const spriteBase = './img/sprite.svg';\n  const ICON_OPEN = '#icon-exit';\n  const ICON_CLOSE = '#icon-menu-burger';\n\n  let overlay = null;\n  let originalParent = menu.parentNode;\n  let originalNextSibling = menu.nextSibling;\n\n  function setIcon(id) {\n    if (!useEl) return;\n    const path = spriteBase + id;\n    useEl.setAttribute('href', path);\n    useEl.setAttributeNS('http://www.w3.org/1999/xlink', 'xlink:href', path);\n  }\n\n  function createOverlay() {\n    overlay = document.createElement('div');\n    overlay.className = 'header-overlay';\n    // Додаємо стилі\n    Object.assign(overlay.style, {\n      position: 'fixed',\n      top: '0',\n      left: '0',\n      right: '0',\n      bottom: '0',\n      background: '#060307',\n      zIndex: '999',\n      overflow: 'auto',\n      display: 'none',\n    });\n    document.body.appendChild(overlay);\n\n    // Закриття при кліку на посилання в меню\n    menu.addEventListener('click', e => {\n      if (e.target.closest('a[href^=\"#\"]')) {\n        closeOverlay();\n      }\n    });\n  }\n\n  function openOverlay() {\n    if (!overlay) createOverlay();\n\n    overlay.style.display = 'block';\n    document.body.style.overflow = 'hidden';\n    overlay.appendChild(menu); // Переміщуємо меню в оверлей\n\n    menu.classList.add('is-open');\n    btn.setAttribute('aria-expanded', 'true');\n    setIcon(ICON_OPEN);\n    document.addEventListener('keydown', onKeyDown);\n  }\n\n  function closeOverlay() {\n    if (!overlay || overlay.style.display === 'none') return;\n\n    overlay.style.display = 'none';\n    document.body.style.overflow = '';\n\n    // Повертаємо меню на місце в DOM\n    originalParent.insertBefore(menu, originalNextSibling);\n\n    menu.classList.remove('is-open');\n    btn.setAttribute('aria-expanded', 'false');\n    setIcon(ICON_CLOSE);\n    document.removeEventListener('keydown', onKeyDown);\n  }\n\n  function onKeyDown(e) {\n    if (e.key === 'Escape') closeOverlay();\n  }\n\n  // Головний обробник події\n  btn.addEventListener('click', e => {\n    e.preventDefault();\n    const isOpen = btn.getAttribute('aria-expanded') === 'true';\n    if (isOpen) {\n      closeOverlay();\n    } else {\n      openOverlay();\n    }\n  });\n})();\n","const GAP_SIZE = 16;\n\n// Ініціалізація галереї\nfunction initHeroGallery() {\n    const galleryTracks = document.querySelectorAll('.hero-gallery-track');\n    duplicateImages(galleryTracks);\n    setupAnimationHeights(galleryTracks);\n    setupNavigationButton();\n}\n\n// Налаштування кнопки навігації\nfunction setupNavigationButton() {\n    const navButton = document.querySelector('[data-scroll-to]');\n    if (!navButton) return;\n    \n    navButton.addEventListener('click', function () {\n        const targetId = this.dataset.scrollTo;\n        const targetSection = document.getElementById(targetId);\n        \n        if (targetSection) {\n            targetSection.scrollIntoView({ \n                behavior: 'smooth',\n                block: 'start'\n            });\n        }\n    });\n}\n\n// Дублювання зображень для безшовної анімації\nfunction duplicateImages(tracks) {\n    tracks.forEach(track => {\n        const originalPictures = [...track.querySelectorAll('.hero-gallery-img')];\n        originalPictures.forEach(picture => {\n            const clone = picture.cloneNode(true);\n            track.appendChild(clone);\n        });\n    });\n}\n\n// Налаштування висоти для анімації\nfunction setupAnimationHeights(tracks) {\n    tracks.forEach(track => {\n        pauseAnimation(track);\n        const allPictures = getAllPictures(track);\n        const originalPictures = getOriginalPictures(allPictures);\n        let originalHeight = 0;\n        let loadedImagesCount = 0;\n\n        function onAllImagesLoaded() {\n            setTrackHeight(track, originalHeight);\n            startAnimation(track);\n        }\n\n        function onImageLoaded() {\n            loadedImagesCount++;\n            if (loadedImagesCount === originalPictures.length) {\n                onAllImagesLoaded();\n            }\n        }\n\n        originalPictures.forEach(picture => {\n            const img = picture.querySelector('img');\n            if (isImageLoaded(img)) {\n                originalHeight += calculatePictureHeight(picture);\n                onImageLoaded();\n            } else {\n                img.addEventListener('load', () => {\n                    setTimeout(() => {\n                        originalHeight += calculatePictureHeight(picture);\n                        onImageLoaded();\n                    }, 10);\n                });\n            }\n        });\n        \n        setInitialPositionForRightColumn(track);\n    });\n}\n\n// Отримати всі картинки в треку\nfunction getAllPictures(track) {\n    return [...track.querySelectorAll('.hero-gallery-img')];\n}\n\n// Отримати тільки оригінальні картинки (без клонів)\nfunction getOriginalPictures(allPictures) {\n    return allPictures.slice(0, allPictures.length / 2);\n}\n\n// Перевірка чи зображення завантажене\nfunction isImageLoaded(img) {\n    return img.complete && img.naturalHeight !== 0;\n}\n\n// Розрахунок висоти картинки з gap\nfunction calculatePictureHeight(picture) {\n    return picture.offsetHeight + GAP_SIZE;\n}\n\n// Встановлення висоти треку для анімації\nfunction setTrackHeight(track, height) {\n    const adjustedHeight = height - GAP_SIZE;\n    track.style.setProperty('--original-height', `${adjustedHeight}px`);\n}\n\n// Пауза анімації\nfunction pauseAnimation(track) {\n    track.style.animationPlayState = 'paused';\n}\n\n// Запуск анімації\nfunction startAnimation(track) {\n    track.style.animationPlayState = 'running';\n}\n\n// Початкова позиція для правої колонки\nfunction setInitialPositionForRightColumn(track) {\n    if (!isRightColumn(track)) return;\n    \n    const checkInterval = setInterval(() => {\n        const height = track.style.getPropertyValue('--original-height');\n        if (height) {\n            track.style.transform = `translateY(calc(-1 * ${height}))`;\n            clearInterval(checkInterval);\n        }\n    }, 50);\n}\n\n// Перевірка чи це права колонка\nfunction isRightColumn(track) {\n    return track.closest('.hero-gallery-column-right');\n}\n\ndocument.addEventListener('DOMContentLoaded', initHeroGallery);","import { getArtistById } from './api';\nimport { showPush } from './pushMessage';\nimport { createArtistModalMarkup, createAlbumsMarkup } from './render-functions.js';\n\nconst refs = {\n  overlay: document.getElementById('artist-modal-overlay'),\n  closeBtn: document.getElementById('modal-close'),\n  detailsContainer: document.getElementById('artist-details'),\n  loader: document.getElementById('loader'),\n  artistsList: document.querySelector('.artists-list'),\n};\n\nrefs.artistsList?.addEventListener('click', onArtistCardClick);\n\nasync function onArtistCardClick(e) {\n  const target = e.target.closest('.artist-link');\n  if (!target) return;\n  const id = target.dataset.id;\n  openModal(id);\n}\n\nasync function openModal(id) {\n  toggleModal(); \n  addModalListeners();\n  showLoader();\n  \n  refs.detailsContainer.innerHTML = ''; \n\n  try {\n    const artistData = await getArtistById(id);\n    if (!artistData) return;\n\n    const allTracks = artistData.tracksList || [];\n    const albumsMap = {};\n\n    allTracks.forEach(function(track) {\n      const albumName = track.strAlbum || \"Other Tracks\";\n      if (!albumsMap[albumName]) {\n        albumsMap[albumName] = { strAlbum: albumName, tracks: [] };\n      }\n      albumsMap[albumName].tracks.push(track);\n    });\n\n    const albumsArray = Object.values(albumsMap);\n    renderModalContent(artistData, albumsArray);\n\n  } catch (error) {\n    console.error(\"Помилка при завантаженні даних:\", error);\n    showPush(\"Error loading artist details\");\n  } finally {\n    hideLoader();\n  }\n}\n\nfunction renderModalContent(artist, albums) {\n  const { \n    strArtist, \n    strArtistThumb, \n    intFormedYear, \n    intBornYear, \n    intDiedYear, \n    strCountry, \n    strBiographyEN,\n    strGender,    \n    intMembers,   \n    genres        \n  } = artist;\n\n  let yearsActive = \"information missing\";\n  const startYear = intFormedYear || intBornYear;\n\n  if (startYear) {\n    const hasFinished = intDiedYear && intDiedYear !== \"null\" && intDiedYear !== \"\";\n    const endYear = hasFinished ? intDiedYear : \"present\";\n    yearsActive = `${startYear} – ${endYear}`;\n  }\n  \n  const isGroup = intMembers && parseInt(intMembers) > 1;\n  const specificInfoMarkup = isGroup \n    ? `<div class=\"artistModal-info-item\">\n         <span class=\"artistModal-info-label\">Members</span>\n         <p class=\"artistModal-info-value\">${intMembers}</p>\n       </div>`\n    : `<div class=\"artistModal-info-item\">\n         <span class=\"artistModal-info-label\">Sex</span>\n         <p class=\"artistModal-info-value\">${strGender || 'Not specified'}</p>\n       </div>`;\n\n  const albumsMarkup = createAlbumsMarkup(albums);\n\n  refs.detailsContainer.innerHTML = createArtistModalMarkup({\n    artist,\n    yearsActive,\n    specificInfoMarkup,\n    albumsMarkup\n  });\n}\n\nfunction toggleModal() {\n  refs.overlay?.classList.toggle('is-hidden');\n  document.body.style.overflow = refs.overlay?.classList.contains('is-hidden') ? '' : 'hidden';\n}\n\nfunction showLoader() { refs.loader?.classList.remove('is-hidden'); }\nfunction hideLoader() { refs.loader?.classList.add('is-hidden'); }\n\nfunction closeModal() {\n  toggleModal();\n  removeModalListeners();\n}\n\nfunction onEscKeydown(e) { \n  if (e.code === 'Escape') closeModal(); \n}\n\nfunction onBackdropClick(e) { \n  if (e.target === refs.overlay) closeModal(); \n}\n\nfunction addModalListeners() {\n  refs.closeBtn?.addEventListener('click', closeModal);\n  refs.overlay?.addEventListener('click', onBackdropClick);\n  window.addEventListener('keyup', onEscKeydown);\n}\n\nfunction removeModalListeners() {\n  refs.closeBtn?.removeEventListener('click', closeModal);\n  refs.overlay?.removeEventListener('click', onBackdropClick);\n  window.removeEventListener('keyup', onEscKeydown);\n}","// ЛОАДЕР МОДАЛЬНОГО ВІКНА\n\nconst loader = document.getElementById('app-loader');\n\nexport function showLoader() {\n  if (!loader) return;\n  loader.classList.remove('hidden');\n}\n\nexport function hideLoader() {\n  if (!loader) return;\n  loader.classList.add('hidden');\n}\n\nconsole.log('loader');\n\n// ЗАГАЛЬНИЙ ЛОАДЕР\n\n// const loader = document.getElementById('app-loader');\n\n// function showLoader() {\n//   loader.classList.remove('hidden');\n// }\n\n// function hideLoader() {\n//   loader.classList.add('hidden');\n// }\n\n// const btn = document.getElementById('loadBtn');\n\n// btn.addEventListener('click', () => {\n//   showLoader();\n\n//   setTimeout(() => {\n//     hideLoader();\n//   }, 2000);\n// });\n\n// window.addEventListener('load', () => {\n//   hideLoader();\n// });\n\n// window.addEventListener('beforeunload', () => {\n//   showLoader();\n// });\n\n// async function loadData() {\n//   try {\n//     showLoader();\n\n//     const response = await fetch('https://sound-wave.b.goit.study/api');\n//     const data = await response.json();\n\n//     console.log(data);\n//   } catch (e) {\n//     console.error(e);\n//   } finally {\n//     hideLoader();\n//   }\n// }","console.log('feedback modal');\n"],"names":["settings","showPush","message","type","iziToast","axios","apiRequest","method","url","config","error","_b","_a","getArtists","page","limit","getArtistById","id","spriteUrl","artistsList","renderArtistCards","artists","markup","_id","strArtist","strArtistThumb","genres","strBiographyEN","genresMarkup","genre","createAlbumsMarkup","albums","album","track","totalSec","m","s","cleanLink","createArtistModalMarkup","artist","yearsActive","specificInfoMarkup","albumsMarkup","strCountry","g","loadMore","totalArtists","showLoadMoreBtn","hideLoadMoreBtn","loadArtists","data","loadMoreBtnHandler","e","btn","menu","useEl","spriteBase","ICON_OPEN","ICON_CLOSE","overlay","originalParent","originalNextSibling","setIcon","path","createOverlay","closeOverlay","openOverlay","onKeyDown","GAP_SIZE","initHeroGallery","galleryTracks","duplicateImages","setupAnimationHeights","setupNavigationButton","navButton","targetId","targetSection","tracks","picture","clone","pauseAnimation","allPictures","getAllPictures","originalPictures","getOriginalPictures","originalHeight","loadedImagesCount","onAllImagesLoaded","setTrackHeight","startAnimation","onImageLoaded","img","isImageLoaded","calculatePictureHeight","setInitialPositionForRightColumn","height","adjustedHeight","isRightColumn","checkInterval","refs","onArtistCardClick","target","openModal","toggleModal","addModalListeners","showLoader","artistData","allTracks","albumsMap","albumName","albumsArray","renderModalContent","hideLoader","intFormedYear","intBornYear","intDiedYear","strGender","intMembers","startYear","closeModal","removeModalListeners","onEscKeydown","onBackdropClick"],"mappings":"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"}