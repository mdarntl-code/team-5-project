import{i as C,a as b}from"./assets/vendor-CK1Rzdhu.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();const k={position:"topRight",timeout:4e3,theme:"dark",backgroundColor:"#060307",progressBarColor:"#4E75FF"},L=(e,t="error")=>{C[t]({...k,title:t==="error"?"Error":"Success",message:e,backgroundColor:t==="error"?"#1a0505":"#060307"})};b.defaults.baseURL="https://sound-wave.b.goit.study/api";async function q(e,t,r={}){var i,n;try{return(await b({method:e,url:t,...r})).data}catch(o){const s=((n=(i=o.response)==null?void 0:i.data)==null?void 0:n.message)||o.message;return L(s),null}}const E=({page:e=1,limit:t})=>q("get","/artists",{params:{page:e,limit:t}}),x=document.querySelector(".artists-list");function A(e){const t=e.map(({_id:r,strArtist:i,strArtistThumb:n,genres:o,strBiographyEN:s})=>{const d=o.map(a=>`<span class="artist-genre">${a}</span>`).join("");return`
          <li class="artist-card">
            <img
              src="${n}"
              alt="${i}"
              class="artist-img"
            />
            <div class="artist-genres">
              ${d}
            </div>
            <h4 class="artist-name">${i}</h4>
            <p class="artist-description">
              ${s}
            </p>
            <button
              type="button"
              class="artist-link"
              data-id="${r}"
              >
              Learn more
            </button>
          </li>
        `}).join("");x.insertAdjacentHTML("beforeend",t)}const c=document.querySelector(".artists-button");let p=1;const S=8;let u=[],h=0;function N(){c.classList.remove("is-hidden")}function I(){c.classList.add("is-hidden")}async function B(){const e=await E({page:p,limit:S});e&&(h=e.totalArtists,A(e.artists),u=[...u,...e.artists],u.length<h?N():I())}B();c.addEventListener("click",H);async function H(e){e.preventDefault(),p+=1,c.disabled=!0,c.classList.add("loading");const t=await E({page:p,limit:S});c.classList.remove("loading"),c.disabled=!1,t&&(A(t.artists),u=[...u,...t.artists],u.length>=h&&(I(),L("You have reached the limit","error")))}console.log("feedbacks");(function(){const e=document.querySelector(".header-btn"),t=document.querySelector(".header-menu");if(!e||!t)return;const r=e.querySelector("use"),i="./img/sprite.svg",n="#icon-exit",o="#icon-menu-burger";let s=null,d=t.parentNode,a=t.nextSibling;function f(l){if(!r)return;const m=i+l;r.setAttribute("href",m),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m)}function w(){s=document.createElement("div"),s.className="header-overlay",Object.assign(s.style,{position:"fixed",top:"0",left:"0",right:"0",bottom:"0",background:"#060307",zIndex:"999",overflow:"auto",display:"none"}),document.body.appendChild(s),t.addEventListener("click",l=>{l.target.closest('a[href^="#"]')&&g()})}function O(){s||w(),s.style.display="block",document.body.style.overflow="hidden",s.appendChild(t),t.classList.add("is-open"),e.setAttribute("aria-expanded","true"),f(n),document.addEventListener("keydown",y)}function g(){!s||s.style.display==="none"||(s.style.display="none",document.body.style.overflow="",d.insertBefore(t,a),t.classList.remove("is-open"),e.setAttribute("aria-expanded","false"),f(o),document.removeEventListener("keydown",y))}function y(l){l.key==="Escape"&&g()}e.addEventListener("click",l=>{l.preventDefault(),e.getAttribute("aria-expanded")==="true"?g():O()})})();const P=16;function $(){const e=document.querySelectorAll(".hero-gallery-track");T(e),j(e),M()}function M(){const e=document.querySelector("[data-scroll-to]");e&&e.addEventListener("click",function(){const t=this.dataset.scrollTo,r=document.getElementById(t);r&&r.scrollIntoView({behavior:"smooth",block:"start"})})}function T(e){e.forEach(t=>{[...t.querySelectorAll(".hero-gallery-img")].forEach(i=>{const n=i.cloneNode(!0);t.appendChild(n)})})}function j(e){e.forEach(t=>{z(t);const r=R(t),i=D(r);let n=0,o=0;function s(){_(t,n),G(t)}function d(){o++,o===i.length&&s()}i.forEach(a=>{const f=a.querySelector("img");F(f)?(n+=v(a),d()):f.addEventListener("load",()=>{setTimeout(()=>{n+=v(a),d()},10)})}),K(t)})}function R(e){return[...e.querySelectorAll(".hero-gallery-img")]}function D(e){return e.slice(0,e.length/2)}function F(e){return e.complete&&e.naturalHeight!==0}function v(e){return e.offsetHeight+P}function _(e,t){const r=t-P;e.style.setProperty("--original-height",`${r}px`)}function z(e){e.style.animationPlayState="paused"}function G(e){e.style.animationPlayState="running"}function K(e){if(!V(e))return;const t=setInterval(()=>{const r=e.style.getPropertyValue("--original-height");r&&(e.style.transform=`translateY(calc(-1 * ${r}))`,clearInterval(t))},50)}function V(e){return e.closest(".hero-gallery-column-right")}document.addEventListener("DOMContentLoaded",$);console.log("modal");document.getElementById("app-loader");console.log("loader");console.log("feedback modal");
//# sourceMappingURL=index.js.map
